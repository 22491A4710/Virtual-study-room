<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Home</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyB0dbcTmu0TVEFUeKnLmCuztcn47t_9MyQ",
      authDomain: "virtual-study-room-95bb1.firebaseapp.com",
      projectId: "virtual-study-room-95bb1",
      storageBucket: "virtual-study-room-95bb1.appspot.com",
      messagingSenderId: "995781311316",
      appId: "1:995781311316:web:145128a95373a7d2f1a6c1",
      measurementId: "G-D9DN8X4HH2"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    onAuthStateChanged(auth, (user) => {
      if (user) {
        document.getElementById("welcome").textContent = `Welcome, ${user.displayName || "User"}!`;
        document.getElementById("email").textContent = `Email: ${user.email}`;
        document.getElementById("photo").src = user.photoURL;
      } else {
        window.location.href = "index.html"; // Redirect if not signed in
      }
    });
  </script>
  <style>
    body {
      font-family: sans-serif;
      background: #e0f7fa;
      text-align: center;
      padding-top: 5rem;
    }
    img {
      border-radius: 50%;
      margin-top: 1rem;
      width: 100px;
      height: 100px;
    }
  </style>
</head>
<body>
  <h2 id="welcome">Loading...</h2>
  <p id="email"></p>
  <img id="photo" src="" alt="User Photo" />
</body>
</html>
